<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <script src="https://unpkg.com/merge-images"></script>
    <style>
            .img{
                width: 100%;
                height: auto;
            }
            input{
              display: inline;
            }
    </style>
    <script>
      let list = [];
      let l = {
        fridge: { src: "_original.jpg", x: 0, y: 0 },
        apple: { src: "apple.png", x: 368, y: 815 },
        apple1: { src: "apple.png", x: 518, y: 1065 },
        broccoli:{src:"broccoli.png", x:1800, y:0},
        orange:{src:"orange.png", x:2186, y:0},
        banana:{src:"banana.png", x:1958, y:1258},
        orange3:{src:"3orange.png", x:308, y:8},
        pizza:{src:"pizza1.png",x:1500,y:650},
        cake1:{src:"cake1.png",x:1200,y:1000},
        donut2:{src:"donut2.png",x:1100,y:50},
        carrot:{src:"carrot.png",x:1200,y:1450},
        sandwich:{src:"sandwich2.png",x:550,y:1600},
      };
      
      const refresh = () => {
        list = [l.fridge];
        objects = document.getElementsByTagName("input");
        for (let i = 0; i < objects.length; i++) {
          if (objects[i].checked) {
            list.push(l[objects[i].value]);
          }
       }
      //Object.keys(l).forEach(e=>list.push(l.e));
        mergeImages(list).then(
          (b64) => (document.querySelector("img").src = b64)
        );
      };
    </script>
    
  </head>
  <body>
    <div class="row">
      <div id="imagediv" class="col-10">
        <img class="img" src="" alt="" />
    </div>
    <div class="col-2">
      <form action="">
        <input
          type="checkbox"
          id="vehicle1"
          name="vehicle1"
          value="apple"
          onchange="refresh()"
        />
        <label for="vehicle1"> Apple 1</label><br />
        <input
          type="checkbox"
          
          name="vehicle1"
          value="apple1"
          onchange="refresh()"
        />
        <label> Apple 2</label><br />
        <input
          type="checkbox"
          id="vehicle2"
          name="vehicle2"
          value="broccoli"
          onchange="refresh()"
        />
        
        <label for="vehicle2"> Broccoli</label><br />
  
        <input
          type="checkbox"
          id="i3"
          name="vehicle2"
          value="orange"
          onchange="refresh()"
        />
        <label for="i3"> Orange</label><br />
  
        <input
          type="checkbox"
          id="i4"
          name="vehicle2"
          value="banana"
          onchange="refresh()"
        />
        <label for="i4"> Banana</label><br />
  
        <input
          type="checkbox"
          id="i5"
          name="vehicle2"
          value="orange3"
          onchange="refresh()"
        />
        <label for="i5"> Orange (3)</label><br />
  
        <input
          type="checkbox"
          id="i6"
          name="vehicle2"
          value="pizza"
          onchange="refresh()"
        />
        <label for="i6">Pizza</label><br />
  
        <input
          type="checkbox"
          id="i6"
          name="vehicle2"
          value="cake1"
          onchange="refresh()"
        />
        <label for="i6">Cake</label><br />
  
        <input
          type="checkbox"
          id="i6"
          name="vehicle2"
          value="donut2"
          onchange="refresh()"
        />
        <label for="i6">Donut</label><br />
  
        <input
          type="checkbox"
          id="i6"
          name="vehicle2"
          value="carrot"
          onchange="refresh()"
        />
        <label for="i6">Carrots</label><br />
  
        <input
        type="checkbox"
        id="i6"
        name="vehicle2"
        value="sandwich"
        onchange="refresh()"
      />
      <label for="i6">Sandwich</label><br />
  
  
        <br />
      </form>
    </div>
    </div>
    <script>
        refresh();
        const f = function(){
          document.onkeyup = (e)=>{
            const speed = 50;
          if(e.keyCode== "37"){ // left
              l.thisobject.x-=speed;
              console.log(l.thisobject.x, l.thisobject.y);
              refresh();
          }
          else if(e.keyCode== "38"){ // up
              l.thisobject.y-=speed;
              console.log(l.thisobject.x, l.thisobject.y);
              refresh();
          }
          else if(e.keyCode== "39"){  //right
              l.thisobject.x+=speed;
              console.log(l.thisobject.x, l.thisobject.y);
              refresh();
          }
          else if(e.keyCode== "40"){ // down
              l.thisobject.y+=speed;
              console.log(l.thisobject.x, l.thisobject.y);
              refresh();
          }
        }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  </body>
</html>
